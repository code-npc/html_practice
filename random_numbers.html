<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>猜字游戏</title>
    <script type="text/javascript">
        var win_rate=0;        //赢率
        var play_times=0;    //总次数
        var wins=0;            //赢的次数
        var last_digits;    //上次数组
        var final_digits;   //字符串
        var last_win;       //上次是否赢?

         //模拟玩一次数字机游戏
        function playOnce(){
                play_times++;
                last_digits=[];
                last_win=false;
                for(let i=0;i<3;i++){
                    var digit = Math.round(Math.random()*9);//用循环获取三个随机的0~9的数字，存放到last_digits数组中，round（）方法是把数四舍五入为最接近的整数
                    last_digits[i] = digit;
                    final_digits = last_digits.join()
                    if (digit==8)   //在这儿进行幸运数字的比较
                        last_win=true;
                            }
                if(last_win)
                    wins++;
                    win_rate = Math.round(100*(wins/play_times));
        }
    </script>
</head>
<body>
    <script>
        while(1){
            playOnce();
            if (!confirm(final_digits +"\n" +(last_win?"赢":"输") + "\n您累计玩了"+play_times+"次，赢了"+wins+"次，胜率"+win_rate+"%,继续吗?" ))
             break;
                    }
    </script>
</body>
</html>
